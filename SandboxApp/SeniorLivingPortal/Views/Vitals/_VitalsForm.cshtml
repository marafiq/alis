@model VitalsFormViewModel
@{
    var resident = ViewBag.Resident as Resident;
}

<div class="mb-4">
    <h6 class="text-muted mb-1">Recording vitals for:</h6>
    <h5 class="mb-0">@resident?.FullName <small class="text-muted">(@resident?.RoomNumber)</small></h5>
</div>

<form data-alis-post="/Vitals/Record"
      data-alis-validate="true"
      data-alis-swap="none"
      data-alis-on-after="handleSuccess, closeModal, refreshVitals">
    
    <input type="hidden" name="ResidentId" value="@Model.ResidentId" />
    
    <h6 class="text-muted mb-3">Required Measurements</h6>
    
    <div class="row">
        <div class="col-md-6 mb-3">
            <label class="form-label">Blood Pressure - Systolic (mmHg) <span class="text-danger">*</span></label>
            <input type="number" 
                   name="BloodPressureSystolic" 
                   class="form-control"
                   placeholder="120"
                   data-val="true"
                   data-val-required="Systolic is required"
                   data-val-range="Must be between 60 and 250"
                   data-val-range-min="60"
                   data-val-range-max="250" />
            <span data-valmsg-for="BloodPressureSystolic" class="field-validation-valid text-danger"></span>
        </div>
        <div class="col-md-6 mb-3">
            <label class="form-label">Blood Pressure - Diastolic (mmHg) <span class="text-danger">*</span></label>
            <input type="number" 
                   name="BloodPressureDiastolic" 
                   class="form-control"
                   placeholder="80"
                   data-val="true"
                   data-val-required="Diastolic is required"
                   data-val-range="Must be between 40 and 150"
                   data-val-range-min="40"
                   data-val-range-max="150" />
            <span data-valmsg-for="BloodPressureDiastolic" class="field-validation-valid text-danger"></span>
        </div>
    </div>
    
    <div class="row">
        <div class="col-md-4 mb-3">
            <label class="form-label">Heart Rate (bpm) <span class="text-danger">*</span></label>
            <input type="number" 
                   name="HeartRate" 
                   class="form-control"
                   placeholder="72"
                   data-val="true"
                   data-val-required="Heart rate is required"
                   data-val-range="Must be between 30 and 220"
                   data-val-range-min="30"
                   data-val-range-max="220" />
            <span data-valmsg-for="HeartRate" class="field-validation-valid text-danger"></span>
        </div>
        <div class="col-md-4 mb-3">
            <label class="form-label">Temperature (Â°F) <span class="text-danger">*</span></label>
            <input type="number" 
                   name="Temperature" 
                   class="form-control"
                   placeholder="98.6"
                   step="0.1"
                   data-val="true"
                   data-val-required="Temperature is required"
                   data-val-range="Must be between 95.0 and 108.0"
                   data-val-range-min="95"
                   data-val-range-max="108" />
            <span data-valmsg-for="Temperature" class="field-validation-valid text-danger"></span>
        </div>
        <div class="col-md-4 mb-3">
            <label class="form-label">Oxygen Saturation (%) <span class="text-danger">*</span></label>
            <input type="number" 
                   name="OxygenSaturation" 
                   class="form-control"
                   placeholder="98"
                   data-val="true"
                   data-val-required="SpO2 is required"
                   data-val-range="Must be between 70 and 100"
                   data-val-range-min="70"
                   data-val-range-max="100" />
            <span data-valmsg-for="OxygenSaturation" class="field-validation-valid text-danger"></span>
        </div>
    </div>
    
    <h6 class="text-muted mb-3 mt-4">Optional Measurements</h6>
    
    <div class="row">
        <div class="col-md-4 mb-3">
            <label class="form-label">Respiratory Rate</label>
            <input type="number" 
                   name="RespiratoryRate" 
                   class="form-control"
                   placeholder="16"
                   data-val="true"
                   data-val-range="Must be between 8 and 40"
                   data-val-range-min="8"
                   data-val-range-max="40" />
            <span data-valmsg-for="RespiratoryRate" class="field-validation-valid text-danger"></span>
        </div>
        <div class="col-md-4 mb-3">
            <label class="form-label">Pain Level (0-10)</label>
            <input type="number" 
                   name="PainLevel" 
                   class="form-control"
                   placeholder="0"
                   data-val="true"
                   data-val-range="Must be between 0 and 10"
                   data-val-range-min="0"
                   data-val-range-max="10" />
            <span data-valmsg-for="PainLevel" class="field-validation-valid text-danger"></span>
        </div>
        <div class="col-md-4 mb-3">
            <label class="form-label">Weight (lbs)</label>
            <input type="number" 
                   name="Weight" 
                   class="form-control"
                   placeholder="150"
                   step="0.1"
                   data-val="true"
                   data-val-range="Must be between 50 and 500"
                   data-val-range-min="50"
                   data-val-range-max="500" />
            <span data-valmsg-for="Weight" class="field-validation-valid text-danger"></span>
        </div>
    </div>
    
    <div class="mb-3">
        <label class="form-label">Notes</label>
        <textarea name="Notes" 
                  class="form-control" 
                  rows="2"
                  placeholder="Any observations or concerns..."
                  data-val="true"
                  data-val-maxlength="Maximum 500 characters"
                  data-val-maxlength-max="500"></textarea>
        <span data-valmsg-for="Notes" class="field-validation-valid text-danger"></span>
    </div>
    
    <div class="modal-footer px-0 pb-0">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button type="submit" class="btn btn-primary">
            <span class="spinner"></span>
            Record Vitals
        </button>
    </div>
</form>

