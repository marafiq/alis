@model IEnumerable<Resident>

@if (!Model.Any())
{
    <div class="empty-state">
        <div class="empty-state-icon">ðŸ‘¥</div>
        <h5>No Residents Found</h5>
        <p class="text-muted">Try adjusting your search or filters</p>
    </div>
}
else
{
    <div class="row">
        @foreach (var resident in Model)
        {
            var careLevelClass = resident.CareLevel switch
            {
                CareLevel.IndependentLiving => "care-level-independent",
                CareLevel.AssistedLiving => "care-level-assisted",
                CareLevel.MemoryCare => "care-level-memory",
                CareLevel.SkilledNursing => "care-level-skilled",
                CareLevel.Hospice => "care-level-hospice",
                _ => ""
            };
            
            var careLevelText = resident.CareLevel switch
            {
                CareLevel.IndependentLiving => "Independent",
                CareLevel.AssistedLiving => "Assisted",
                CareLevel.MemoryCare => "Memory Care",
                CareLevel.SkilledNursing => "Skilled Nursing",
                CareLevel.Hospice => "Hospice",
                _ => ""
            };

            <div class="col-md-6 col-lg-4 mb-3">
                <div class="resident-card">
                    <div class="resident-avatar">
                        @resident.FirstName[0]@resident.LastName[0]
                    </div>
                    <div class="resident-info">
                        <div class="resident-name">@resident.FullName</div>
                        <div class="resident-meta">
                            <span class="me-2">ðŸšª @resident.RoomNumber</span>
                            <span>ðŸŽ‚ @resident.Age yrs</span>
                        </div>
                        <span class="care-level @careLevelClass mt-1 d-inline-block">@careLevelText</span>
                    </div>
                    <div class="resident-actions">
                        <!-- ALIS-REVIEW: Small icon buttons - using ejs-button for consistency -->
                        <!-- ALIS-GAP: ejs-button iconCss alone doesn't work well for emoji icons, using content -->
                        <ejs-button id="viewBtn-@resident.Id"
                                    cssClass="e-small e-outline"
                                    content="ðŸ‘ï¸"
                                    title="View Details"
                                    data-alis-get="/Residents/Details/@resident.Id"
                                    data-alis-target="#modalBody"
                                    data-alis-on-after="showResidentModal">
                        </ejs-button>
                        <ejs-button id="editBtn-@resident.Id"
                                    cssClass="e-small e-outline"
                                    content="âœï¸"
                                    title="Edit"
                                    data-alis-get="/Residents/Edit/@resident.Id"
                                    data-alis-target="#modalBody"
                                    data-alis-on-after="showResidentModal">
                        </ejs-button>
                        <ejs-button id="deleteBtn-@resident.Id"
                                    cssClass="e-small e-outline e-danger"
                                    content="ðŸ—‘ï¸"
                                    title="Delete"
                                    data-alis-delete="/Residents/Delete/@resident.Id"
                                    data-alis-confirm="deleteConfirm"
                                    data-alis-confirm-message="Are you sure you want to remove @resident.FullName from the system?"
                                    data-alis-target="#residents-list">
                        </ejs-button>
                    </div>
                </div>
            </div>
        }
    </div>
    
    <div class="text-muted text-center mt-3">
        Showing @Model.Count() resident(s)
    </div>
}

<!-- Syncfusion controls initialization for ALIS-loaded partial views -->
<!-- When ALIS swaps this content, ejs-scripts ensures Syncfusion controls are initialized -->
<ejs-scripts></ejs-scripts>
