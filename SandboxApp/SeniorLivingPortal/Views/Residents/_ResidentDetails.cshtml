@model Resident

<div class="text-center mb-4">
    <div class="resident-avatar mx-auto mb-3" style="width: 80px; height: 80px; font-size: 2rem;">
        @Model.FirstName[0]@Model.LastName[0]
    </div>
    <h4 class="mb-1">@Model.FullName</h4>
    <p class="text-muted mb-0">Room @Model.RoomNumber</p>
</div>

<div class="row">
    <div class="col-md-6">
        <h6 class="text-muted">Personal Information</h6>
        <table class="table table-sm">
            <tr>
                <td class="text-muted">Age</td>
                <td>@Model.Age years</td>
            </tr>
            <tr>
                <td class="text-muted">Date of Birth</td>
                <td>@Model.DateOfBirth.ToShortDateString()</td>
            </tr>
            <tr>
                <td class="text-muted">Admission Date</td>
                <td>@Model.AdmissionDate.ToShortDateString()</td>
            </tr>
            <tr>
                <td class="text-muted">Care Level</td>
                <td>
                    @{
                        var careLevelText = Model.CareLevel switch
                        {
                            CareLevel.IndependentLiving => "Independent Living",
                            CareLevel.AssistedLiving => "Assisted Living",
                            CareLevel.MemoryCare => "Memory Care",
                            CareLevel.SkilledNursing => "Skilled Nursing",
                            CareLevel.Hospice => "Hospice",
                            _ => "Unknown"
                        };
                    }
                    @careLevelText
                </td>
            </tr>
        </table>
    </div>
    <div class="col-md-6">
        <h6 class="text-muted">Emergency Contact</h6>
        <table class="table table-sm">
            <tr>
                <td class="text-muted">Name</td>
                <td>@Model.EmergencyContactName</td>
            </tr>
            <tr>
                <td class="text-muted">Phone</td>
                <td>@(Model.EmergencyContactPhone ?? "Not provided")</td>
            </tr>
            <tr>
                <td class="text-muted">Email</td>
                <td>@(Model.EmergencyContactEmail ?? "Not provided")</td>
            </tr>
        </table>
    </div>
</div>

@if (!string.IsNullOrEmpty(Model.MedicalNotes))
{
    <div class="mt-3">
        <h6 class="text-muted">Medical Notes</h6>
        <p class="mb-0">@Model.MedicalNotes</p>
    </div>
}

@if (Model.DietaryRestrictions.Any())
{
    <div class="mt-3">
        <h6 class="text-muted">Dietary Restrictions</h6>
        <div>
            @foreach (var restriction in Model.DietaryRestrictions)
            {
                <span class="badge bg-warning text-dark me-1">@restriction</span>
            }
        </div>
    </div>
}

<div class="mt-4 d-flex gap-2">
    <button class="btn btn-primary flex-fill"
            data-alis-get="/Residents/Edit/@Model.Id"
            data-alis-target="#modalBody">
        ‚úèÔ∏è Edit
    </button>
    <button class="btn btn-outline-primary flex-fill"
            data-alis-get="/Vitals/Record?residentId=@Model.Id"
            data-alis-target="#modalBody">
        ‚ù§Ô∏è Record Vitals
    </button>
    <button class="btn btn-outline-secondary flex-fill"
            data-alis-get="/Vitals/History?residentId=@Model.Id"
            data-alis-target="#modalBody">
        üìä Vitals History
    </button>
</div>

